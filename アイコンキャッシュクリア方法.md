# アイコンキャッシュクリア方法

## 問題
PWAアイコンが更新されても、古いアイコンが表示される場合があります。これはブラウザやService Workerのキャッシュが原因です。

## 解決方法

### 1. ブラウザのキャッシュをクリア

#### Chrome/Edge
1. Chrome DevToolsを開く（F12）
2. Applicationタブを開く
3. **Storage**セクションで「Clear site data」をクリック
4. または、**Service Workers**セクションで「Unregister」をクリック

#### Safari
1. 開発メニューを有効化（環境設定 → 詳細 → メニューバーに「開発」メニューを表示）
2. 開発メニュー → 「キャッシュを空にする」

### 2. ハードリロード
- **Windows/Linux**: `Ctrl + Shift + R` または `Ctrl + F5`
- **Mac**: `Cmd + Shift + R`

### 3. インコグニートモードで確認
- 新しいプライベートウィンドウでサイトを開いて確認

### 4. アプリを再インストール（PWAの場合）
1. 既存のPWAアプリを削除
2. サイトに再度アクセス
3. インストールプロンプトから再インストール

### 5. Service Workerを手動で更新
1. Chrome DevTools → Application → Service Workers
2. 「Update」ボタンをクリック
3. 「Unregister」で登録を解除してから再読み込み

## 開発者向け

### manifest.jsonのバージョン更新
アイコンを更新したら、manifest.jsonのアイコンパスにクエリパラメータを追加：
```json
{
  "icons": [
    {
      "src": "/icon-192x192.png?v=2",
      "sizes": "192x192",
      "type": "image/png"
    }
  ]
}
```

### Service Workerの再生成
```bash
rm -f public/sw.js public/workbox-*.js
npm run build
```

## 確認方法

1. Chrome DevTools → Application → Manifest
2. アイコンが正しく読み込まれているか確認
3. アイコンをクリックして、新しい画像が表示されるか確認



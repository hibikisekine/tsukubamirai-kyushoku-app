# 🚀 デプロイ手順（最新版）

## 現在の状況

✅ **コミット完了**: AdSense審査対応の変更をコミット済み
- 利用規約ページ追加 (`app/terms/page.tsx`)
- フッターにプライバシーポリシー・利用規約リンク追加
- AdSense審査対応ドキュメント更新

## 次のステップ

### 1. GitHubにプッシュ（手動）

ターミナルで以下を実行してください：

```bash
cd 給食サイト
git push origin main
```

**認証が必要な場合：**
- GitHub Personal Access Tokenを使用するか
- SSHキーを設定してください

### 2. Vercelでの自動デプロイ確認

GitHubにプッシュすると、Vercelが自動的にデプロイを開始します。

1. [Vercelダッシュボード](https://vercel.com/dashboard)にアクセス
2. プロジェクト `tsukubamirai-kyushoku-app` を開く
3. 「Deployments」タブで最新のデプロイ状況を確認

### 3. デプロイ後の確認事項

デプロイが完了したら、以下を確認してください：

- [ ] サイトが正常に表示される: https://kyushoku.site
- [ ] 利用規約ページがアクセス可能: https://kyushoku.site/terms
- [ ] プライバシーポリシーページがアクセス可能: https://kyushoku.site/privacy
- [ ] フッターに両方のリンクが表示される
- [ ] モバイルでも正常に表示される

### 4. AdSense再審査の申請

デプロイが完了したら、以下を実施してください：

1. **Google AdSenseダッシュボードにログイン**
   - https://www.google.com/adsense/
   - Publisher ID: pub-7310204683723531

2. **「サイト」タブを開く**
   - 申請中のサイト（kyushoku.site）を確認

3. **「サイトを再審査」をクリック**
   - または、新しいサイトとして申請

4. **サイトURLを入力**
   - `https://kyushoku.site`

5. **申請を送信**

## 環境変数の確認

Vercelで以下の環境変数が設定されているか確認してください：

- `NEXT_PUBLIC_SUPABASE_URL`
- `NEXT_PUBLIC_SUPABASE_ANON_KEY`
- `SUPABASE_SERVICE_ROLE_KEY`
- `ADMIN_PASSWORD`
- `NEXT_PUBLIC_ADSENSE_CLIENT_ID` (設定済みの場合)
- `NEXT_PUBLIC_ADSENSE_SLOT_ID` (設定済みの場合)

## トラブルシューティング

### GitHubへのプッシュが失敗する場合

**方法1: Personal Access Tokenを使用**
1. GitHub → Settings → Developer settings → Personal access tokens
2. 「Generate new token」をクリック
3. `repo` スコープを選択
4. トークンをコピー
5. プッシュ時にパスワードの代わりにトークンを入力

**方法2: SSHキーを使用**
```bash
# SSH URLに変更
git remote set-url origin git@github.com:hibikisekine/tsukubamirai-kyushoku-app.git
git push origin main
```

### Vercelのデプロイが失敗する場合

1. Vercelダッシュボードでエラーログを確認
2. 環境変数が正しく設定されているか確認
3. ビルドログでエラー内容を確認

## 参考リンク

- [Vercelダッシュボード](https://vercel.com/dashboard)
- [GitHubリポジトリ](https://github.com/hibikisekine/tsukubamirai-kyushoku-app)
- [AdSenseダッシュボード](https://www.google.com/adsense/)


# ✅ デプロイ後確認チェックリスト

## 🎯 A8.netアフィリエイト設定の確認

### ステップ1: 環境変数の確認

1. **Netlifyで環境変数が設定されているか確認**
   - https://app.netlify.com にアクセス
   - プロジェクト `meek-manatee-a78963` を選択
   - 「Site settings」→「Environment variables」を開く
   - `NEXT_PUBLIC_A8_AFFILIATE_ID` が設定されているか確認
   - 値がメディアID（例: `a12345678901`）になっているか確認

### ステップ2: サイトでの動作確認

1. **サイトにアクセス**
   - https://kyushoku.site にアクセス
   - 日付ページ（例: `/2025-01-15`）を開く

2. **アフィリエイトリンクを確認**
   - 「🛒 給食関連商品」セクションを確認
   - 「🛒 Amazonで見る」リンクが表示されているか確認

3. **A8.netリンクの動作確認（メディアIDが設定されている場合）**
   - リンクを右クリック → 「リンクのアドレスをコピー」
   - コピーしたURLを確認
   - A8.netのリンクの場合: `https://px.a8.net/svt/ejp/?aam2=メディアID&url=...` の形式になっているか確認

### ステップ3: ブラウザの開発者ツールで確認

1. **ブラウザの開発者ツールを開く**
   - Chrome/Edge: `F12` または `右クリック → 検証`
   - Firefox: `F12` または `右クリック → 要素を調査`

2. **コンソールでエラーを確認**
   - 「Console」タブを開く
   - エラーメッセージがないか確認

3. **ネットワークタブで確認**
   - 「Network」タブを開く
   - ページを再読み込み
   - `px.a8.net` へのリクエストが送信されているか確認（A8.netリンクをクリックした場合）

## 🔍 トラブルシューティング

### 問題1: リンクがA8.netの形式にならない

**原因**: 環境変数が設定されていない、またはメディアIDが正しくない

**解決方法**:
1. Netlifyの環境変数を確認
2. メディアIDが「a」で始まる11桁の数字か確認
3. 再デプロイを実行

### 問題2: リンクをクリックしても動作しない

**原因**: URLの形式が正しくない

**解決方法**:
1. リンクのURLを確認
2. ブラウザのコンソールでエラーを確認
3. 環境変数が正しく読み込まれているか確認

### 問題3: 環境変数が反映されない

**原因**: キャッシュの問題、またはデプロイが完了していない

**解決方法**:
1. ブラウザのキャッシュをクリア（`Ctrl+Shift+Delete` または `Cmd+Shift+Delete`）
2. ハードリロード（`Ctrl+F5` または `Cmd+Shift+R`）
3. Netlifyで再デプロイを実行

## 📝 次のステップ

### 1. A8.netで商品リンクを追加

A8.netのリンク生成ツールで商品リンクを生成し、サイトに追加：

```tsx
<AffiliateLink
  href="https://example.com/lunchbox"
  affiliateType="a8"
  className="..."
>
  🍱 ランチボックスを見る
</AffiliateLink>
```

### 2. 複数のアフィリエイトリンクを追加

給食関連商品セクションに、複数の商品リンクを追加：

- ランチボックス
- 水筒
- 給食袋
- 箸箱
- 給食マット

### 3. 収益の確認

1. **A8.netダッシュボードにログイン**
2. **「レポート」→「クリックレポート」を確認**
3. クリック数、成約数、報酬額を確認

### 4. Amazonアソシエイトとの併用

既にAmazonアソシエイトも設定されているので、両方のアフィリエイトで収益化できます。

## ✅ 確認完了チェックリスト

- [ ] Netlifyの環境変数が設定されている
- [ ] サイトが正常に表示される
- [ ] アフィリエイトリンクが表示される
- [ ] リンクをクリックして動作する
- [ ] ブラウザのコンソールにエラーがない
- [ ] A8.netのリンク形式になっている（メディアID設定済みの場合）

## 💡 ヒント

- 環境変数を変更した後は、必ず再デプロイが必要です
- ブラウザのキャッシュをクリアすると、最新の状態を確認できます
- A8.netのリンク生成ツールを使うと、より簡単に商品リンクを追加できます


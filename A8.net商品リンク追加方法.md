# 🛒 A8.net商品リンク追加方法（環境変数設定済み）

## ✅ 前提条件

- 環境変数 `NEXT_PUBLIC_A8_AFFILIATE_ID` が設定済み
- デプロイが完了している

## 🚀 商品リンクを追加する方法

### 方法1: 通常のURLを使用（自動変換）

環境変数が設定されていれば、通常の商品URLを指定するだけで自動的にA8.netのリンクに変換されます。

#### ステップ1: A8.netで広告主を探す

1. **A8.netにログイン**
   - https://www.a8.net/ にアクセス

2. **「広告主検索」を開く**
   - ダッシュボードのメニューから選択

3. **給食関連の広告主を検索**
   - 検索キーワード例：
     - `無印良品`
     - `サーモス`
     - `象印`
     - `リッチェル`

4. **広告主を選択**
   - 気になる広告主をクリック
   - 「リンク生成」が利用可能か確認

#### ステップ2: 商品URLを取得

1. **広告主のサイトにアクセス**
   - 例: 無印良品のサイト → https://www.muji.com/jp/ja/
   - 例: サーモスのサイト → https://www.thermos.jp/

2. **商品ページのURLをコピー**
   - ランチボックス、水筒などの商品ページを開く
   - ブラウザのアドレスバーからURLをコピー

#### ステップ3: コードに追加

`app/[date]/page.tsx` のコメント部分を外して、実際のURLに置き換えます：

```tsx
<AffiliateLink
  href="https://www.muji.com/jp/ja/store/cmdty/detail/4549336252608"
  affiliateType="a8"
  title="ランチボックス"
  className="inline-block px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors font-semibold no-underline"
>
  🍱 ランチボックスを見る
</AffiliateLink>
```

**重要**: `affiliateType="a8"` を指定すると、環境変数のメディアIDを使って自動的にA8.netのリンクに変換されます。

### 方法2: A8.netで生成したリンクを直接使用

A8.netのリンク生成ツールで生成したリンクを直接使用することもできます。

#### ステップ1: A8.netでリンクを生成

1. **A8.netにログイン**
2. **広告主を選択**
3. **「リンク生成」をクリック**
4. **商品URLを入力**
5. **生成されたリンクをコピー**

生成されるリンクの形式：
```
https://px.a8.net/svt/ejp/?aam2=メディアID&url=商品URL
```

#### ステップ2: コードに追加

生成したリンクをそのまま使用：

```tsx
<AffiliateLink
  href="https://px.a8.net/svt/ejp/?aam2=メディアID&url=商品URL"
  title="ランチボックス"
  className="inline-block px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors font-semibold no-underline"
>
  🍱 ランチボックスを見る
</AffiliateLink>
```

**注意**: 既にA8.netのリンク形式の場合は、そのまま使用されます（自動変換は行われません）。

## 📝 実装例

### 複数の商品リンクを追加する場合

```tsx
<div className="flex flex-wrap gap-2">
  {/* Amazon */}
  <AffiliateLink
    href="https://amzn.to/44d5r5t"
    title="Amazonで給食関連商品"
    className="inline-block px-4 py-2 bg-primary-500 text-white rounded-lg hover:bg-primary-600 transition-colors font-semibold no-underline"
  >
    🛒 Amazonで見る
  </AffiliateLink>
  
  {/* A8.net商品リンク */}
  <AffiliateLink
    href="https://www.muji.com/jp/ja/store/cmdty/detail/4549336252608"
    affiliateType="a8"
    title="ランチボックス"
    className="inline-block px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors font-semibold no-underline"
  >
    🍱 ランチボックス
  </AffiliateLink>
  
  <AffiliateLink
    href="https://www.thermos.jp/products/..."
    affiliateType="a8"
    title="水筒"
    className="inline-block px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors font-semibold no-underline"
  >
    💧 水筒
  </AffiliateLink>
</div>
```

## 🎯 おすすめの商品カテゴリ

### 1. ランチボックス
- 無印良品のランチボックス
- サーモスのランチボックス
- 象印のランチボックス

### 2. 水筒
- サーモスの水筒
- 象印の水筒
- タイガーの水筒

### 3. 給食袋・ランチバッグ
- 給食袋
- ランチバッグ
- お弁当袋

### 4. 箸箱・箸セット
- 箸箱
- 箸セット
- カトラリーセット

### 5. 給食マット
- ランチマット
- 給食マット

## ✅ 動作確認

1. **デプロイ後、サイトにアクセス**
   - https://kyushoku.site にアクセス
   - 日付ページ（例: `/2025-01-15`）を開く

2. **リンクを確認**
   - 「🛒 給食関連商品」セクションを確認
   - リンクを右クリック → 「リンクのアドレスをコピー」
   - URLが `https://px.a8.net/svt/ejp/?aam2=メディアID&url=...` の形式になっているか確認

3. **リンクをクリック**
   - リンクが正しく動作するか確認
   - 商品ページに遷移するか確認

## 💡 ヒント

### 環境変数が正しく設定されているか確認

ブラウザの開発者ツール（F12）のコンソールで確認：

```javascript
console.log(process.env.NEXT_PUBLIC_A8_AFFILIATE_ID);
```

ただし、これはサーバーサイドでのみ利用可能なので、実際の動作確認はリンクをクリックしてURLを確認するのが確実です。

### 複数の広告主を使う

- 無印良品: ランチボックス、水筒
- サーモス: 水筒、ランチボックス
- 象印: 水筒、ランチボックス
- その他、給食関連商品を取り扱う企業

### 季節に合わせた商品

- 夏: 水筒、保冷バッグ
- 冬: 保温弁当箱、保温水筒
- 通年: ランチボックス、給食袋

## 🔍 トラブルシューティング

### リンクがA8.netの形式にならない

1. **環境変数を確認**
   - Netlifyで `NEXT_PUBLIC_A8_AFFILIATE_ID` が設定されているか
   - 値が正しいか（メディアIDは「a」で始まる11桁の数字）

2. **`affiliateType="a8"` を指定**
   - 通常のURLを使用する場合、`affiliateType="a8"` を明示的に指定

3. **再デプロイ**
   - 環境変数を変更した後は、必ず再デプロイが必要

### リンクが動作しない

1. **URLが正しいか確認**
   - 商品ページのURLが正しいか
   - 広告主のサイトがA8.netに登録されているか

2. **ブラウザのコンソールでエラーを確認**
   - 開発者ツール（F12）でエラーを確認

## 📚 参考

- [A8.net公式サイト](https://www.a8.net/)
- [A8.netヘルプセンター](https://www.a8.net/help/)
- [A8.net次のステップガイド](./A8.net次のステップガイド.md)


# Google AdSense審査対応 - 修正内容

## 問題点

Google AdSenseの審査で以下の問題が指摘されました：

1. **パブリッシャーのコンテンツを含まない画面における広告の扱い**
   - コンテンツがない、または有用性の低いコンテンツを含んでいる画面に広告を配置していた
   - 作成中である画面に広告を配置していた
   - アラート、ナビゲーションなど、行動が目的で使用されている画面に広告を配置していた

2. **有用性の低いコンテンツ**
   - サイト全体のコンテンツ量が不十分だった

## 実施した修正

### 1. AdBannerコンポーネントの改善

**ファイル**: `components/AdBanner.tsx`

- `show`プロパティを追加し、条件付きレンダリングを可能にしました
- `show={false}`の場合は広告を表示しません

```typescript
interface AdBannerProps {
  position?: 'top' | 'bottom' | 'middle';
  className?: string;
  show?: boolean; // 広告を表示するかどうか（コンテンツがある場合のみ表示）
}
```

### 2. ホームページ（`app/page.tsx`）の修正

**修正内容**:
- 献立データがある場合のみ広告を表示するように変更
- 献立データがない場合に、より有用な情報とナビゲーションリンクを追加

**変更点**:
- 上部広告: `{thisWeekKondate.length > 0 && <AdBanner />}`
- 下部広告: `{thisWeekKondate.length > 0 && <AdBanner position="bottom" />}`
- データがない場合のメッセージを充実させ、カレンダーや検索へのリンクを追加

### 3. 検索ページ（`app/search/page.tsx`）の修正

**修正内容**:
- 検索結果がある場合のみ広告を表示するように変更
- 検索結果がない場合や検索キーワード未入力時に、より有用な情報を追加

**変更点**:
- 上部広告: `{searchQuery && results.length > 0 && <AdBanner />}`
- 下部広告: `{searchQuery && results.length > 0 && <AdBanner position="bottom" />}`
- 検索の使い方やヒントを追加
- カレンダーやトップページへのリンクを追加

### 4. 詳細ページ（`app/[date]/page.tsx`）の修正

**修正内容**:
- 献立データがある場合のみ広告を表示するように変更
- 献立データがない場合に、より有用な情報とナビゲーションリンクを追加

**変更点**:
- 上部広告: `{kondate && <AdBanner />}`
- 下部広告: `{kondate && <AdBanner position="bottom" />}`
- データがない場合のメッセージを充実させ、他の献立や他のページへのリンクを追加

### 5. Aboutページ（`app/about/page.tsx`）の改善

**修正内容**:
- ページの説明文を追加してコンテンツを充実
- Aboutページは有用なコンテンツがあるため、広告は表示を継続

### 6. カレンダーページ（`app/calendar/page.tsx`）の改善

**修正内容**:
- カレンダーの使い方の説明を追加
- カレンダーページは有用なコンテンツがあるため、広告は表示を継続

## 修正のポイント

1. **コンテンツがある場合のみ広告を表示**
   - データがない、検索結果がない、エラー状態などの場合、広告を非表示にしました

2. **有用なコンテンツの追加**
   - データがない場合でも、ユーザーに有用な情報（ナビゲーションリンク、使い方のヒントなど）を提供

3. **ユーザーエクスペリエンスの向上**
   - 空の状態でも、次のアクションを促すリンクや説明を追加

## 次のステップ

1. 変更をコミットしてデプロイ
2. 本番環境で動作確認
3. Google AdSenseに再審査を申請

## 確認事項

- ✅ コンテンツがない画面では広告を表示しない
- ✅ 各ページに有用なコンテンツを追加
- ✅ エラー状態や空の状態でも有用な情報を提供
- ✅ ナビゲーションリンクを適切に配置


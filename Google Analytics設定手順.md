# 📊 Google Analytics設定手順

## 閲覧数を確認する方法

Google Analyticsを追加することで、以下の情報を確認できます：
- ページビュー数
- ユーザー数
- セッション数
- 滞在時間
- デバイス別のアクセス状況
- 参照元
- 人気のページ

## ステップ1: Google Analyticsアカウントを作成

1. **Google Analyticsにアクセス**
   - https://analytics.google.com/ にアクセス
   - Googleアカウントでログイン

2. **アカウントを作成**
   - 「測定を開始」をクリック
   - アカウント名を入力（例: 「きゅうしょくなにかな」）
   - 「次へ」をクリック

3. **プロパティを作成**
   - プロパティ名を入力（例: 「きゅうしょくなにかな」）
   - タイムゾーンを選択（日本時間）
   - 通貨を選択（日本円）
   - 「次へ」をクリック

4. **ビジネス情報を入力**
   - 業種を選択（例: 「教育」）
   - ビジネス規模を選択
   - 「次へ」をクリック

5. **データストリームを設定**
   - 「ウェブ」を選択
   - ウェブサイトのURLを入力: `https://kyushoku.site`
   - ストリーム名を入力（例: 「きゅうしょくなにかな」）
   - 「ストリームを作成」をクリック

## ステップ2: 測定IDを取得

1. **測定IDをコピー**
   - データストリームの設定画面で「測定ID」を確認
   - 形式: `G-XXXXXXXXXX`（例: `G-ABC123XYZ`）
   - 測定IDをコピー

## ステップ3: Netlifyで環境変数を設定

1. **Netlifyダッシュボードにログイン**
   - https://app.netlify.com

2. **プロジェクトを選択**
   - `meek-manatee-a78963` をクリック

3. **「Site settings」→「Environment variables」を開く**

4. **環境変数を追加**
   - **Key**: `NEXT_PUBLIC_GA_ID`
   - **Value**: ステップ2でコピーした測定ID（例: `G-ABC123XYZ`）
   - **Scopes**: すべてにチェック（Production, Deploy previews, Branch deploys）
   - 「Save」をクリック

## ステップ4: 再デプロイ

1. **「Deploys」タブに戻る**
2. **「Trigger deploy」をクリック**
3. **「Clear cache and deploy site」を選択**
4. 再デプロイが開始されます（2-3分）

## ステップ5: 動作確認

1. **サイトにアクセス**
   - https://kyushoku.site にアクセス
   - 数ページを閲覧

2. **Google Analyticsで確認**
   - Google Analyticsダッシュボードに戻る
   - 「レポート」→「リアルタイム」を開く
   - 数分待つと、アクセスが表示されます

## 閲覧数の確認方法

### リアルタイムの閲覧数

1. **Google Analyticsダッシュボードにログイン**
2. **「レポート」→「リアルタイム」を選択**
3. 現在アクセスしているユーザー数が表示されます

### 過去の閲覧数

1. **「レポート」→「エンゲージメント」→「概要」を選択**
2. 期間を選択（日、週、月など）
3. 以下の情報が表示されます：
   - ページビュー数
   - ユーザー数
   - セッション数
   - 平均セッション時間

### 人気のページ

1. **「レポート」→「エンゲージメント」→「ページとスクリーン」を選択**
2. 各ページの閲覧数が表示されます

## 注意事項

- **データの反映には時間がかかります**
  - リアルタイムデータ: 数秒〜数分
  - 通常のレポート: 24〜48時間

- **プライバシーポリシーの更新**
  - Google Analyticsを使用する場合、プライバシーポリシーに記載する必要があります
  - 既に `/privacy` ページにGoogle Analyticsに関する情報が含まれています

## トラブルシューティング

### データが表示されない

1. **環境変数が正しく設定されているか確認**
   - `NEXT_PUBLIC_GA_ID` が設定されているか
   - 値が正しいか（`G-` で始まる形式）

2. **再デプロイを実行**
   - 環境変数を設定した後、必ず再デプロイが必要です

3. **ブラウザの開発者ツールで確認**
   - `F12` を押して開発者ツールを開く
   - 「Network」タブで `gtag` のリクエストを確認
   - リクエストが送信されていれば正常です

### 測定IDがわからない

1. **Google Analyticsダッシュボードにログイン**
2. **左下の「管理」（歯車アイコン）をクリック**
3. **「プロパティ」→「データストリーム」を選択**
4. **ウェブストリームをクリック**
5. **「測定ID」を確認**

## 参考リンク

- [Google Analytics公式サイト](https://analytics.google.com/)
- [Google Analyticsヘルプセンター](https://support.google.com/analytics/)
- [Google Analytics 4 ドキュメント](https://developers.google.com/analytics/devguides/collection/ga4)


